(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/prodDetail/prodDetail"],{"0439":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={uPopup:function(){return n.e("node-modules/uview-ui/components/u-popup/u-popup").then(n.bind(null,"210d"))},uSwiper:function(){return n.e("node-modules/uview-ui/components/u-swiper/u-swiper").then(n.bind(null,"1fe6"))},uIcon:function(){return n.e("node-modules/uview-ui/components/u-icon/u-icon").then(n.bind(null,"155e"))},uBadge:function(){return n.e("node-modules/uview-ui/components/u-badge/u-badge").then(n.bind(null,"a2b9"))},uButton:function(){return n.e("node-modules/uview-ui/components/u-button/u-button").then(n.bind(null,"562b"))},uParse:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-parse/u-parse")]).then(n.bind(null,"7959"))}},o=function(){var t=this,e=t.$createElement;t._self._c},a=[]},"1ccd":function(t,e,n){"use strict";n.r(e);var i=n("0439"),o=n("8b57");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("307b"),n("dd3f");var r,s=n("f0c5"),u=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"0270228f",null,!1,i["a"],r);e["default"]=u.exports},"307b":function(t,e,n){"use strict";var i=n("79aa"),o=n.n(i);o.a},"79aa":function(t,e,n){},"8b57":function(t,e,n){"use strict";n.r(e);var i=n("a4c2"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"9cd5":function(t,e,n){},a4c2:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("a34a")),o=a(n("0e7a"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,i,o,a,r){try{var s=t[a](r),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(i,o)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,u,"next",t)}function u(t){r(a,i,o,s,u,"throw",t)}s(void 0)}))}}var u=function(){n.e("components/CardSeller/CardSeller").then(function(){return resolve(n("822b"))}.bind(null,n)).catch(n.oe)},c={mixins:[o.default],data:function(){return{show:!1,wxShow:!1,curIndex:0,list:[],roomid:void 0,live_src:"",vWidth:200,vHeight:300,movableH:0,id:"",info:{},sellerInfo:{},isFollow:!1,followList:[],shareOptions:{pageName:"产品"},sh:1,cpy:{}}},components:{CardSeller:u},computed:{count:function(){return this.$store.state.cartCount}},onLoad:function(e){var n=this;return s(i.default.mark((function o(){var a;return i.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=t.getSystemInfoSync(),n.movableH=a.safeArea.height-a.safeAreaInsets.top+a.safeAreaInsets.bottom-20,e.hasOwnProperty("live")&&(n.live_src=e.live),!e.hasOwnProperty("id")){i.next=10;break}return n.id=e.id,i.next=7,n.getData();case 7:n.addHistory(),i.next=12;break;case 10:return t.navigateBack({delta:1}),i.abrupt("return");case 12:n.followList=t.getStorageSync("followList")||[],n.followList.length>0&&n.followList.some((function(t){return t.id==n.info.id}))&&(n.isFollow=!0);case 14:case"end":return i.stop()}}),o)})))()},onReady:function(e){this.videoContext=t.createVideoContext("myVideo")},methods:{handleFollow:function(){var e=this;this.isFollow=!this.isFollow,this.isFollow?(this.followList.unshift({id:this.info.id,pic1:this.info.pic1,name:this.info.name,brand:this.info.brand,model:this.info.model,price:this.info.price,stock:this.info.stock,unit:this.info.unit}),t.showToast({title:"收藏成功"})):(this.followList.some((function(t,n){if(t.id==e.info.id)return e.followList.splice(n,1),!0})),t.showToast({title:"取消收藏",icon:"none"})),t.setStorageSync("followList",this.followList)},addHistory:function(){var t=this;this.$store.state.history.some((function(e){return e.id==t.id}))||this.$store.commit("addHistory",{id:this.id,image:this.list[0].image})},inCart:function(){this.$store.dispatch("addCart",this.info)},handleChangeShow:function(t){this.show=!0,this.curIndex=t},getData:function(){var t=this;return s(i.default.mark((function e(){var n,o,a;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/Market/api.html?api_url_xcx=goods",{params:{id:t.id}});case 2:n=e.sent,o=n.data.list,a=Object.keys(o).filter((function(t){return t.includes("pic")&&!isNaN(t.slice(3))})),t.shareOptions.pageName=n.data.share_title,t.list=a.map((function(t){return{image:o[t]}})),t.cpy=n.data.company,t.info=o,t.share_title=n.data.share_title,t.share_img=n.data.share_img,t.sellerInfo=n.data.sell_cards,t.sh=n.data.sh||0;case 13:case"end":return e.stop()}}),e)})))()},showWX:function(){this.wxShow=!0},handleGetmeadata:function(t){console.log(t);var e=t.detail.width,n=t.detail.height;this.vWidth=e>n?300:200,this.vHeight=Math.ceil(n/e*this.vWidth)},videoErrorCallback:function(t){console.log(t),t.detail.errMsg&&this.videoContext.stop()},gotoLive:function(){var e=getCurrentPages();1==e.length?t.navigateTo({url:"/pages/live/live?roomid=".concat(this.roomid)}):t.navigateBack()}}};e.default=c}).call(this,n("543d")["default"])},c562:function(t,e,n){"use strict";(function(t){n("0df7");i(n("66fd"));var e=i(n("1ccd"));function i(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},dd3f:function(t,e,n){"use strict";var i=n("9cd5"),o=n.n(i);o.a}},[["c562","common/runtime","common/vendor"]]]);